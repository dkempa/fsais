The basic usage is:

1. Edit the script 'monitor_disk_space.sh' so that it reports the
space from the partition you want to monitor, i.e., you have to change
"/dev/sda" to whatever uniquely identifies the partition where the
tested program will write data.

2. Start the script:
$ nohup ./monitor_disk_space.sh > ./diskusage.txt
From this point on, only the program you want to test should write to disk.

3. Start whatever the program you want to measure.

4. After the program being measured finished, terminate the measuring script
$ kill -9 $(ps -aux | grep 'monitor_disk_space\.sh' | awk '{ print $2 }')

5. Analyze the produced file diskusage.txt to obtain the peak disk usage:
$ ./analyze_data.sh ./diskusage.txt
This will show the peak disk usage in GiB.

The scripts report the peak disk usage correctly up to 1MiB. If that's
not sufficient, simple modification of the scripts can increase the
accuracy.


Let me know if you have any questions, or if you notice any bugs!

- Dominik


You can reach me at dominik.kempa@gmail.com
